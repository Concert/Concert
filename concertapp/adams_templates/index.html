{% extends 'base.html' %}

{% block content %}
<div id = "index_container">

    <div id = "header_wrapper">
        <div id = "header">

            <a href = "/users/logout/">Log Out</a>
            <div id = "inner_wrapper">
                <div id = "controls">
                    <form>
                        <input type = "button" value = "Play" id = "play_button" class = "control_button"/>
                        <input type = "button" value = "Edit" id = "edit_button" class = "control_button"/>
                        <div>
                            <div class = "volume_slider" id = "slider"></div>
                            <div class = "volume_slider" id = "handle"></div>
                        </div>
                    </form>
                </div>

                <div id="waveform_viewer" class="waveform">        	
                    <div id="viewer_timecode" class="timecode">00:00:00</div>
                    <div id="viewer_highlight"></div>
                    <div id="viewer_playhead" class="playhead"></div>
                    <div id="viewer_image"><img class="waveform_image" id="waveform_viewer_image" src="/media/graphics/default_waveform.png"/></div>
                </div>
            </div>
        </div>
        
        <div id="audio_container">
            <audio id="audio_element" class="audio_element"></audio>
        </div>
    </div>

    <div id = "main_wrapper">
        <div id = "left_wrapper">
            <div id = "left_inner_wrapper">
                <form id = "search">
                    <input type = "text" value = "Search"/>            
                </form>

                <div id = "groups">
                    <h1>Groups</h1>
                    <ul>
                        {% for group in group_list%}

                        {% comment %} Add "selected" class to the currently selected group. {% endcomment %}

                        {% ifequal group selected_group %}
                            <li class="selected"><a href="?selected_group_id={{ group.id }}"> {{ group.name }} </a></li>
                        {% else %}
                            <li><a href = "?selected_group_id={{ group.id }}"> {{ group.name }} </a></li>
                        {% endifequal %}
                        {% endfor %}
                    </ul>
                </div>

                <div id = "Tags">
                    <h1>Tags</h1>
                    <ul>
                        {% for tag in tag_list %}
                        
                            {% comment %} Add "selected" class to the currently selected tag. {% endcomment %}
                            
                            {% ifequal tag selected_tag %}
                                <li class="selected"><a href = "?selected_tag_id={{ tag.id }}">{{ tag.tag }}</a></li>
                            {% else %}
                                <li><a href = "?selected_tag_id={{ tag.id }}">{{ tag.tag }}</a></li>
                            {% endifequal %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
        <div id = "right_wrapper">
            <table>
                <tr id = "title_bar">
                    <th>Tags</th>
                    <th>Label</th>
                    <th>Date Tagged</th>
                    <th>Uploaded By</th>
                    <th>In</th>
                    <th>Out</th>
                </tr>
                {% if segment_list %}
                    {% for segment in segment_list %}
                        {% comment %} For each segment row, store segment id in id attribute, and audio id in data-audioid attribute (this is valid HTML5) {% endcomment %}
                        <tr id="segment_row-{{ segment.id }}" class="segment_row" data-audioid="{{ segment.audio.id }}">
                            <td>{{ segment.tag_list }}</td>
                            <td>{{ segment.name }}</td>
                            <td></td>
                            <td>{{ segment.audio.user.username }}</td>
                            <td>{{ segment.beginning }}</td>
                            <td>{{ segment.end }}</td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr><td colspan = "4">No audio found.</td></tr>
                {% endif %}

            </table>
        </div>
    </div>
</div>

<script src="/js/main.js"></script>
{% endblock %}
