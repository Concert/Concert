{% comment %}

@file base_site.html
The base template for all pages.  All page templates will use this.

{% endcomment %}


{% load extra_template_tags %}

<!DOCTYPE>

<html>
  <head>
    <title>Concert</title>
    <link rel=StyleSheet href="/css/styles.css" type="text/css" media=screen>
    {% block extra_styles %}

    {% endblock %}

    <script src="/js/lib/vendor/jquery-nightly.min.js"></script>
    <script src="/js/lib/vendor/jquery.tmpl.min.js"></script>
    <script src="/js/lib/vendor/jquery-ui-1.8.5.custom.min.js"></script>
    <script src="/js/lib/vendor/modernizr-1.5.min.js"></script>
    
    <!-- 
       <script src="/js/lib/Waveform.js"></script>
       <script src="/js/lib/WaveformViewer.js"></script>
       <script src="/js/lib/WaveformEditor.js"></script>
       <script src="/js/lib/Highlighter.js"></script>
       <script src="/js/lib/HighlightViewer.js"></script>
       <script src="/js/lib/helpers.js"></script>
       <script src="/js/lib/WaveformPlayer.js"></script>
       <script src="/js/lib/VolumeSlider.js"></script>
       <script src="/js/lib/AudioPlayerBehavior.js"></script>
       -->
    <script src="/js/lib/ModalAlert.js"></script>        
    <script src="/js/lib/ConfirmModalAlert.js"></script>        
    <script src="/js/lib/Notifier.js"></script>

    <script src="/js/lib/Button.js"></script>
    <script src="/js/lib/IconButton.js"></script>
    <script src="/js/lib/LargeIconButton.js"></script>
    <script src="/js/lib/LinkLargeIconButton.js"></script>
    <script src="/js/lib/UploadLinkLargeIconButton.js"></script>
    <script src="/js/lib/DashboardLinkLargeIconButton.js"></script>
    <script src="/js/lib/SettingsLinkLargeIconButton.js"></script>

    <script src="/js/lib/Widget.js"></script>
    <script src="/js/lib/CollectionWidget.js"></script>
    

    <script src="/js/lib/Panel.js"></script>
    <script src="/js/lib/GlobalOptionsPanel.js"></script>
    <script src="/js/lib/CreateJoinCollectionPanel.js"></script>
    <script src="/js/lib/ManageCollectionsPanel.js"></script>

      
    <script src="/js/dashboard.js"></script>    
    <script src="/js/login.js"></script>    
    <script src="/js/collections.js"></script>    
    <script src="/js/upload_audio.js"></script>    
    <script src="/js/lib/UIHelpers.js"></script>
    <script src="/js/global.js"></script>
    {% block extra_scripts %}

</head>
<body>

    <div id="modal-container">
        <div id="modal-overlay" class="modal-overlay">
          <div id="modal-overlay-background" class="modal-overlay-background"></div>
          <div id="modal-overlay-pane" class="modal-overlay-pane corner-all">
            <div id="modal-overlay-header" class="modal-overlay-header blue corner-top">
              <h2 id="modal-overlay-header" class="modal-overlay-header">
                <!-- This is where the content for a modal alert title goes -->
              </h2>
              <button id="modal-overlay-close-button" class="modal-overlay-close-button image-button cross"><!-- --></button>
              <div class="clear"></div>
            </div>
            <div id="modal-overlay-content" class="modal-overlay-content">
               <!-- This is where the modal content goes -->
            </div>
            <div id="modal-overlay-confirm" class="modal-overlay-confirm corner-bottom">
              <button id="modal-overlay-confirm-ok" class="corner-all text-button blue control"></button>
              <button id="modal-overlay-confirm-cancel" class="corner-all text-button control blue"></button>
              <div class="clear"></div>
            </div>
          </div>
        </div>
    </div>
    
    {% comment %}
        If user is not logged in, don't display navigation and stuffs.
    {% endcomment %}
    
    {% if user %}
        <div id="page_header">
            <div class="page_header_left">
                <h1>Concert</h1>
                <h2>{{ page_name }}</h2>
            </div>
            <div class="page_header_middle">
                <label for="collection_selector">Organize:</label>
                <select id="collection_selector" class="collection_selector">
                    <option value="-1">Please select a collection</option>
                    {% for collection in user.collections.all %}
                        <option value="{{ group.id }}">{{ collection.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="page_header_right">
            
                {% if page_name != 'Dashboard' %}
                    <div id="dashboard_button_container" data-href="{% url dashboard %}" class="large-icon-button">
                        <button id="dashboard_button_icon" title="Concert dashboard" class="large-icon-button-icon">D</button>
                        <label for="dashboard_button_icon" id="dashboard_button_label" class="large-icon-button-label">Dashboard</label>
                    </div>
                {% endif %}
            
            
                {% if page_name  != 'Settings' %}
                    <div id="settings_button_container" data-href="{% url manage_collections %}" class="large-icon-button">
                        <button id="settings_button_icon" title="Manage collections, connect with friends" class="large-icon-button-icon">S</button>
                        <label for="settings_button_icon" id="settings_button_label" class="large-icon-button-label">Settings</label>
                    </div>
                {% endif %}
            
                {% if page_name != 'Upload Audio' %}
                    <div id="upload_button_container" class="large-icon-button" data-href="{% url upload_audio %}">
                        <button id="upload_button_icon" title="Upload audio to one of your collections" class="large-icon-button-icon">U</button>
                        <label for="upload_button" class="large-icon-button-label" id="upload_button_label">Upload Audio</label>
                    </div>
                {% endif %}            
            
            </div>
            <div class="clear"></div>
        </div>
    {% endif %}
    
    {% block content %}

    
    {% endblock %}
    
    <script id="collection_dropdown_options" type="text/x-jquery-tmpl">
        {% include_raw "../templates/collection_dropdown_options.html" %}
    </script>
    
</body>
</html>
